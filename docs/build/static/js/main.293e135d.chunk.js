(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{67:function(e,t,n){e.exports=n(91)},91:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"add",function(){return w}),n.d(a,"remove",function(){return k}),n.d(a,"removeWithCategory",function(){return S}),n.d(a,"toggle",function(){return D}),n.d(a,"update",function(){return T});var r={};n.r(r),n.d(r,"todos",function(){return V});var i={};n.r(i),n.d(i,"add",function(){return A}),n.d(i,"addChild",function(){return R}),n.d(i,"remove",function(){return B}),n.d(i,"update",function(){return P});var o={};n.r(o),n.d(o,"categories",function(){return F});var c={};n.r(c),n.d(c,"changeSearchable",function(){return Y}),n.d(c,"toggleVisibility",function(){return $});var l={};n.r(l),n.d(l,"ui",function(){return q});var u=n(0),d=n.n(u),s=n(14),g=n.n(s),f=n(13),m=n(21),h=n(47),v=n(17),p=n(45),b=n(32),y=n.n(b),E=n(11),C=n(46),j=n(33),O=n.n(j),x={add:"todo/add",remove:"todo/remove",removeWithCategory:"todo/removeWithCagegory",update:"todo/update",toggle:"todo/toggle"},I=[{id:"1",title:"1111",categoryId:"1",isDone:!1},{id:"2",title:"2222",categoryId:"1",isDone:!0}];var w=function(e,t){return{type:x.add,title:t,categoryId:e}},k=function(e){return{type:x.remove,todoId:e}},S=function(e){return{type:x.removeWithCategory,categoryId:e}},D=function(e){return{type:x.toggle,todoId:e}},T=function(e,t,n){return{type:x.update,title:n,isDone:t,todoId:e}},V=function(e){return{todos:e.todo.present}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x.add:return[].concat(Object(C.a)(e),[{title:t.title,categoryId:t.categoryId,id:O()(),isDone:!1}]);case x.remove:return e.filter(function(e){return e.id!==t.todoId});case x.removeWithCategory:return e.filter(function(e){return e.categoryId!==t.categoryId});case x.toggle:return e.map(function(e){return e.id!==t.todoId?e:Object(E.a)({},e,{isDone:!e.isDone})});case x.update:return e.map(function(e){return e.id!==t.todoId?e:Object(E.a)({},e,{title:t.title,isDone:t.isDone})});default:return e}},W={add:"category/add",addChild:"category/addChild",remove:"category/remove",update:"category/update"},L=[{id:"1",title:"1111",parentId:null},{id:"2",title:"2222",parentId:"1"},{id:"3",title:"3333",parentId:"2"},{id:"4",title:"444",parentId:null}],N=function e(t,n){var a=n.filter(function(e){return e.id!==t}),r=n.filter(function(e){return e.parentId===t});return r.length&&r.forEach(function(t){a=e(t,a)}),a};var A=function(e){return{type:W.add,title:e}},R=function(e,t){return{type:W.addChild,title:t,parentId:e}},B=function(e){return{type:W.remove,categoryId:e}},P=function(e,t){return{type:W.update,title:t,categoryId:e}},F=function(e){return{categories:e.category.present}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case W.add:return[].concat(Object(C.a)(e),[{title:t.title,id:O()(),parentId:null}]);case W.addChild:return[].concat(Object(C.a)(e),[{title:t.title,parentId:t.parentId,id:O()()}]);case W.remove:return N(t.categoryId,e);case W.update:return e.map(function(e){return e.id!==t.categoryId?e:Object(E.a)({},e,{title:t.title})});default:return e}},_={toggleVisibility:"ui/toggleVisibility",changeSearchable:"ui/changeSearchable"},U={isDoneVisible:!0,searchable:""};var Y=function(e){return{type:_.changeSearchable,searchable:e}},$=function(){return{type:_.toggleVisibility}},q=function(e){return{ui:e.ui}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _.changeSearchable:return Object(E.a)({},e,{searchable:t.searchable});case _.toggleVisibility:return Object(E.a)({},e,{isDoneVisible:!e.isDoneVisible});default:return e}},G=function(e){return Object(v.c)({ui:z,router:Object(m.b)(e),todo:y()(M),category:y()(J)})},H=Object(h.a)();var K=n(7),Q=n(8),X=n(94),Z=n(95),ee=n(96),te=n(92),ne=n(97);function ae(){var e=Object(K.a)(["\n  display: flex;\n"]);return ae=function(){return e},e}function re(){var e=Object(K.a)(["\n  && {\n    margin-bottom: 0;\n    display: flex;\n    align-items: center;\n    margin-right: 20px !important;\n  }\n"]);return re=function(){return e},e}function ie(){var e=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]);return ie=function(){return e},e}function oe(){var e=Object(K.a)(["\n  margin-bottom: 20px;\n"]);return oe=function(){return e},e}var ce=Q.a.div(oe()),le=Q.a.div(ie()),ue=Object(Q.a)(X.a)(re()),de=Q.a.div(ae()),se=function(e){return e.filter(function(e){return e.isDone}).length/e.length},ge=function(e){var t=e.undo,n=e.redo,a=e.todos,r=e.ui,i=e.changeSearchable,o=e.toggleVisibility;return d.a.createElement(ce,null,d.a.createElement(le,null,d.a.createElement("h1",null,"To-Do List"),d.a.createElement(de,null,d.a.createElement(Z.a,{vertical:!1},d.a.createElement(ue,{checked:r.isDoneVisible,onClick:o},"Show done"),d.a.createElement(ee.a,{value:r.searchable,onChange:function(e){return i(e.target.value)},placeholder:"Search",rightElement:r.searchable.length?d.a.createElement(te.a,{icon:"cross",onClick:function(){return i("")}}):null})),d.a.createElement(Z.a,{vertical:!1,style:{marginLeft:30}},d.a.createElement(te.a,{onClick:t},"Undo"),d.a.createElement(te.a,{onClick:n},"Redo")))),d.a.createElement(ne.a,{value:se(a)}))},fe=Object(f.c)(function(e){return Object(E.a)({},r.todos(e),l.ui(e))},Object(E.a)({},b.ActionCreators,c))(ge),me=n(24),he=n(25),ve=n(27),pe=n(26),be=n(28),ye=function(e){var t=e.text,n=e.onChange,a=e.onSubmit,r=e.placeholder;return d.a.createElement(Z.a,null,d.a.createElement(ee.a,{placeholder:r,value:t,onChange:function(e){return n(e.target.value)}}),d.a.createElement(te.a,{disabled:t.length<=0,onClick:a},"Add"))};ye.defaultProps={placeholder:""};var Ee=ye,Ce=function(e){function t(){var e,n;Object(me.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ve.a)(this,(e=Object(pe.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},n.handleChange=function(e){n.setState({text:e})},n.handleSubmit=function(){var e=n.state.text;(0,n.props.onSubmit)(e),n.setState({text:""})},n}return Object(be.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.state.text,t=this.props.placeholder;return d.a.createElement(Ee,{placeholder:t,text:e,onChange:this.handleChange,onSubmit:this.handleSubmit})}}]),t}(d.a.Component);Ce.defaultProps={placeholder:""};var je=Ce,Oe=n(98),xe=n(31),Ie=n(102),we=n(50);function ke(){var e=Object(K.a)(["\n  margin: 0 10px;\n"]);return ke=function(){return e},e}function Se(){var e=Object(K.a)(["\n  padding: 10px;\n"]);return Se=function(){return e},e}function De(){var e=Object(K.a)(["\n  display: flex;\n  align-items: center;\n"]);return De=function(){return e},e}function Te(){var e=Object(K.a)(["\n  margin: 0 10px;\n"]);return Te=function(){return e},e}function Ve(){var e=Object(K.a)(["\n  border: 1px solid #bbb;\n  border-radius: 5px;\n  padding: 3px;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3px;\n"]);return Ve=function(){return e},e}var Me=Q.a.div(Ve()),We=Q.a.div(Te()),Le=Q.a.div(De()),Ne=Q.a.div(Se()),Ae=Object(Q.a)(ee.a)(ke()),Re=function(e){var t=e.id,n=e.title,a=e.isEditing,r=e.edit,i=e.handleTitleChange,o=e.update,c=e.remove,l=e.handleNewCategoryTitleChange,u=e.isModalVisible,s=e.newCategoryTitle,g=e.closeModal,f=e.submitModal,m=e.openModal,h=e.isChecked;return d.a.createElement(Me,null,d.a.createElement(Le,null,h&&d.a.createElement(xe.a,{icon:"tick"}),a?d.a.createElement(Ae,{value:n,onChange:function(e){return i(e.target.value)}}):d.a.createElement(We,null,d.a.createElement(Oe.a,{to:"/category/".concat(t)},n)),a?d.a.createElement(te.a,{small:!0,icon:"tick",onClick:o}):d.a.createElement(te.a,{small:!0,icon:"edit",onClick:r})),d.a.createElement("div",null,d.a.createElement(te.a,{small:!0,icon:"trash",onClick:c}),d.a.createElement(te.a,{small:!0,icon:"plus",onClick:m})),d.a.createElement(Ie.a,{isOpen:u,onClose:g,className:we.a.OVERLAY_SCROLL_CONTAINER},d.a.createElement(Ne,null,d.a.createElement(Ae,{value:s,onChange:function(e){return l(e.target.value)},autoFocus:!0}),d.a.createElement(te.a,{onClick:g},"Close"),d.a.createElement(te.a,{onClick:f},"Add"))))},Be=function(e){function t(e){var n;return Object(me.a)(this,t),(n=Object(ve.a)(this,Object(pe.a)(t).call(this,e))).handleTitleChange=function(e){n.setState({title:e})},n.edit=function(){n.setState({isEditing:!0})},n.update=function(){var e=n.state.title,t=n.props;(0,t.update)(t.category.id,e),n.setState({isEditing:!1})},n.openModal=function(){n.setState({isModalVisible:!0})},n.closeModal=function(){n.setState({isModalVisible:!1,newCategoryTitle:""})},n.handleNewCategoryTitleChange=function(e){n.setState({newCategoryTitle:e})},n.addChildCategory=function(){var e=n.props,t=e.addChild,a=e.category,r=n.state.newCategoryTitle;t(a.id,r),n.closeModal()},n.remove=function(){var e=n.props,t=e.remove,a=e.category,r=e.removeTodoWithCategory;t(a.id),r(a.id)},n.state={isEditing:!1,isModalVisible:!1,title:e.category.title,newCategoryTitle:""},n}return Object(be.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.isEditing,a=e.isModalVisible,r=e.newCategoryTitle,i=this.props,o=i.category,c=i.currentCategoryId,l=o.id===c,u={id:o.id,isChecked:l,title:t,isEditing:n,isModalVisible:a,newCategoryTitle:r,handleTitleChange:this.handleTitleChange,edit:this.edit,update:this.update,remove:this.remove,closeModal:this.closeModal,handleNewCategoryTitleChange:this.handleNewCategoryTitleChange,submitModal:this.addChildCategory,openModal:this.openModal};return d.a.createElement(Re,u)}}]),t}(d.a.Component);Be.defaultProps={currentCategoryId:""};var Pe=Be,Fe=Object(f.c)(function(e){var t=Object(m.c)({path:"/category/:id"})(e);return{currentCategoryId:t?t.params.id:null}},Object(E.a)({},i,{removeTodoWithCategory:a.removeWithCategory}))(Pe);function Je(){var e=Object(K.a)(["\n  margin-bottom: 20px;\n"]);return Je=function(){return e},e}var _e=Q.a.div(Je()),Ue=function(e){var t=e.add,n=e.categories;return d.a.createElement("div",null,d.a.createElement(_e,null,d.a.createElement(je,{placeholder:"Enter category title",onSubmit:t})),d.a.createElement("div",null,n.filter(function(e){return!e.parentId}).map(function e(t){return d.a.createElement(d.a.Fragment,{key:t.id},d.a.createElement(Fe,{category:t}),d.a.createElement("div",{style:{marginLeft:10}},n.filter(function(e){return e.parentId===t.id}).map(e)))})))},Ye=Object(f.c)(o.categories,i)(Ue),$e=n(100),qe=n(101);function ze(){var e=Object(K.a)(["\n  border: 1px solid #bbb;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  margin-bottom: 3px;\n"]);return ze=function(){return e},e}var Ge=Q.a.div(ze()),He=function(e){var t=e.id,n=e.isDone,a=e.title,r=e.toggle;return d.a.createElement(Ge,null,d.a.createElement("div",null,d.a.createElement(X.a,{checked:n,onClick:r},a)),d.a.createElement("div",null,d.a.createElement(Oe.a,{to:"/todo/".concat(t,"/edit")},d.a.createElement(te.a,{icon:"edit"}))))};function Ke(){var e=Object(K.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: flex-end;\n"]);return Ke=function(){return e},e}var Qe=Q.a.div(Ke()),Xe=function(e){var t=e.match,n=e.add,a=e.toggle,r=e.todos,i=e.ui,o=t.params.categoryId,c=r.filter(function(e){return e.categoryId===o});if(i.isDoneVisible||(c=c.filter(function(e){return!e.isDone})),i.searchable){var l=new RegExp(".*".concat(i.searchable.toLowerCase(),".*"));c=c.filter(function(e){return-1!==e.title.toLowerCase().search(l)})}return d.a.createElement("div",null,d.a.createElement(Qe,null,d.a.createElement(je,{placeholder:"Enter todo text",onSubmit:function(e){return n(o,e)}})),d.a.createElement("div",null,c.map(function(e){return d.a.createElement(He,Object.assign({key:e.id},e,{toggle:function(){return a(e.id)}}))}),0===c.length&&d.a.createElement("div",null,"Empty todo list")))},Ze=Object(f.c)(function(e){return Object(E.a)({},r.todos(e),l.ui(e))},a)(Xe),et=n(99);function tt(){var e=Object(K.a)(["\n  margin: 10px 0;\n"]);return tt=function(){return e},e}var nt=Q.a.div(tt()),at=function(e){var t=e.save,n=e.cancel,a=e.title,r=e.isDone,i=e.toggle,o=e.handleTitleChange;return d.a.createElement("div",null,d.a.createElement(nt,null,d.a.createElement(te.a,{onClick:t},"Save Changes"),d.a.createElement(te.a,{onClick:n},"Cancel")),d.a.createElement(nt,null,d.a.createElement(ee.a,{value:a,onChange:function(e){return o(e.target.value)}})),d.a.createElement(nt,null,d.a.createElement(X.a,{checked:r,onClick:i},"Done")),d.a.createElement(nt,null,d.a.createElement(et.a,{large:!0,value:"????",onChange:function(){return{}}})))},rt=function(e){function t(e){var n;Object(me.a)(this,t),(n=Object(ve.a)(this,Object(pe.a)(t).call(this,e))).getCurrentTodo=function(){var e=n.props,t=e.match,a=e.todos,r=t.params.todoId;return a.find(function(e){return e.id===r})},n.handleTitleChange=function(e){n.setState({title:e})},n.toggle=function(){var e=n.state.isDone;n.setState({isDone:!e})},n.save=function(){var e=n.state,t=e.title,a=e.isDone;(0,n.props.update)(n.getCurrentTodo().id,a,t),n.cancel()},n.cancel=function(){(0,n.props.history.goBack)()};var a=n.getCurrentTodo();return n.state={title:a.title,isDone:a.isDone},n}return Object(be.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.state,t={title:e.title,isDone:e.isDone,save:this.save,handleTitleChange:this.handleTitleChange,toggle:this.toggle,cancel:this.cancel};return d.a.createElement(at,t)}}]),t}(d.a.Component),it=Object(f.c)(function(e){return Object(E.a)({},r.todos(e),{router:e.router})},a)(rt),ot=function(){return d.a.createElement("div",null,d.a.createElement($e.a,null,d.a.createElement(qe.a,{exact:!0,path:"/",render:function(){return d.a.createElement("h2",null,"Select category")}}),d.a.createElement(qe.a,{path:"/category/:categoryId",component:Ze}),d.a.createElement(qe.a,{path:"/todo/:todoId/edit",component:it})))};n(85),n(87),n(89);function ct(){var e=Object(K.a)(["\n  flex: 1;\n"]);return ct=function(){return e},e}function lt(){var e=Object(K.a)(["\n  width: 400px;\n  margin-right: 20px;\n"]);return lt=function(){return e},e}function ut(){var e=Object(K.a)(["\n  display: flex;\n"]);return ut=function(){return e},e}function dt(){var e=Object(K.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]);return dt=function(){return e},e}var st=Q.a.div(dt()),gt=Q.a.div(ut()),ft=Q.a.div(lt()),mt=Q.a.div(ct()),ht=function(){return d.a.createElement(st,null,d.a.createElement(fe,null),d.a.createElement(gt,null,d.a.createElement(ft,null,d.a.createElement(Ye,null)),d.a.createElement(mt,null,d.a.createElement(ot,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vt,pt=Object(v.e)(G(H),vt,Object(v.d)(Object(v.a)(Object(p.a)(H))));g.a.render(d.a.createElement(f.a,{store:pt},d.a.createElement(m.a,{history:H},d.a.createElement(ht,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[67,2,1]]]);
//# sourceMappingURL=main.293e135d.chunk.js.map